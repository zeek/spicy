# Copyright (c) 2020-now by the Zeek Project. See LICENSE for details.

FROM opensuse/leap:15.6

RUN zypper addrepo https://download.opensuse.org/repositories/openSUSE:Leap:15.6:Update/standard/openSUSE:Leap:15.6:Update.repo \
 && zypper refresh \
 && zypper install -y \
      bison \
      ccache \
      cmake \
      flex \
      gcc14-c++ \
      git \
      ninja \
      python3 \
      python3-pip \
      rpmbuild \
      which \
      zlib-devel \
 && zypper clean

RUN pip3 install "btest>=0.66" sphinx-rtd-theme diagrams

ENV CXX=g++-14
ENV CC=gcc-14
