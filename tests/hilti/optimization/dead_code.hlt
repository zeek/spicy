# @TEST-EXEC: hiltic -p %INPUT -o opt.hlt
# @TEST-EXEC: btest-diff opt.hlt

module foo {

function uint<64> fn_pure1() {
    return 0;
}

function void fn_pure2() {}

type X = struct {};
function X fn_not_pure1() {
    local X x;
    return x;
}

type Y = struct {
    hook void ~finally() {}
};
function Y fn_pure4() {
    local Y y;
    return y;
}

global uint<64> num_calls = 0;
function uint<64> fn_not_pure2() {
    num_calls += 1;
    return 0;
}

uint8(10);
default<void>();
True;

fn_pure1();
fn_pure2();
fn_not_pure1();
fn_pure4();
fn_not_pure2();

}
