# @TEST-EXEC: hiltic -p -o /dev/null -D cfg-initial %INPUT >output 2>&1
# @TEST-EXEC: btest-diff output

module foo {

function uint<64> fn() {
    local auto x = 1;
    x = x + 1;
    return x;
}

function uint<64> fn2() {
    local auto x = 1;
    local auto y = 1;

    x = (x = 1);
    x = (y = 1);
    x = (x = (y = 1));

    (x = 1) = x;
    (y = 1) = x;
    (x = (y = 1)) = x;

    (x = 1) = (y = 1);
    (y = 1) = (x = (y = 1));
}

function void fn3() {
    local x = "bad";
    local x2 = x = "good";
}

function void fn4() {
    local x = new uint<8>;
    local y = x;
    *y = 1;
}

}
